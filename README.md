# outbreak.info
[![DOI](https://zenodo.org/badge/243126729.svg)](https://zenodo.org/badge/latestdoi/243126729)
During outbreaks of emerging diseases such as COVID-19, efficiently collecting, sharing, and integrating data is critical to scientific research.

outbreak.info is a standardized, searchable platform to discover and explore COVID-19 and SARS-CoV-2 data from the [Center for Viral Systems Biology](http://cvisb.org/) at Scripps Research. It contains three parts: a standardized searchable database of COVID-19 research; customizable real-time surveillance reports on SARS-CoV-2 variants and mutations; and an explorable interface to examine changes in epidemiological data.

*Disclaimer: This project is a work-in progress. Please submit an [issue](https://github.com/SuLab/outbreak.info/issues) if you notice any bugs or want to suggest features.*

# Data sources
- See [outbreak.info sources](https://outbreak.info/sources)

# Related projects
- [Outbreak.api](https://github.com/biothings/outbreak.api) -- repo for the back-end API
- [outbreak.info-resources](https://github.com/SuLab/outbreak.info-resources) -- data schemas and harvesters for COVID-19 resources

# Deploying a local version of the site
1. Clone the repository
2. Make sure you have [node & npm] (https://nodejs.org/en/).
3. In terminal, navigate to the `src` directory of this repository.
4. Install **node_modules** by running `npm install`.
5. Launch a local server with hot-reloads by running `npm run dev`.

# Updating curated Variants of Concern (VOCs) / Variants of Interest (VOIs) / Variants under Monitoring (VUMs).
outbreak.info maintains a [curated list](https://github.com/outbreak-info/outbreak.info/blob/master/curated_reports_prep/curated_lineages.yaml) of VOCs/VOIs/VUMs based on classifications by public health agencies. Additionally, the sublineages associated with a variant are determined using data from the [Pango team](https://github.com/cov-lineages/pango-designation/blob/master/lineage_notes.txt) and are maintained [here](https://github.com/outbreak-info/outbreak.info/blob/master/curated_reports_prep/lineages.yml).

## Adding, removing, or changing the list of VOCs/VOIs/VUMs.
1. Edit the [curated yaml file](https://github.com/outbreak-info/outbreak.info/blob/master/curated_reports_prep/curated_lineages.yaml). **Do not manually edit the [curated .json file](https://github.com/outbreak-info/outbreak.info/blob/master/web/src/assets/genomics/curated_lineages.json) used by outbreak.info; this file will be dynamically generated by the python script below.** Essential components:
    - `pangolin_lineage`: the primary, parent pangolin lineage for the variant. Can also be an array (e.g. `["B.1.427", "B.1.429"]` -- specify as a yaml array)
    - `who_name`: (if available) the WHO alias for the variant
    - `dateModified`: date which outbreak.info classifies it as a VOC/VOI/VUM
    - `classifications`: array containing classifications as per CDC, WHO, PHE, ECDC
    - **Make sure to nest the yaml object under the appropriate section (VOC, VOI, VUM) to ensure it gets classified as the appropriate level of concern.**
2. Run `python curated_reports_prep/generate_curated_lineages_json.py`. This updates the [curated .json file used by outbreak.info](https://github.com/outbreak-info/outbreak.info/blob/master/web/src/assets/genomics/curated_lineages.json).
3. Edit `updates` [admin.js](https://github.com/outbreak-info/outbreak.info/blob/master/web/src/store/modules/admin.js) to add a note that a variant has been classified, reclassified, or downgraded.
4. Commit to the GitHub repo and rebuild the site.

## Updating only the Pango sublineages associated with each tacked variant.
1. Run `python curated_reports_prep/generate_curated_lineages_json.py`. This updates the [curated .json file used by outbreak.info](https://github.com/outbreak-info/outbreak.info/blob/master/web/src/assets/genomics/curated_lineages.json).
2. Commit to the GitHub repo and rebuild the site.